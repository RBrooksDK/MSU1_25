
## Tutorial 3: Konvertering mellem Kartesiske og Polære Koordinater i 2D


Ofte er det nødvendigt at kunne skifte mellem det kartesiske koordinatsystem $(x, y)$ og det polære koordinatsystem $(r, \theta)$. Denne tutorial beskriver, hvordan man konverterer koordinater mellem disse to systemer i to dimensioner. Trigonometri spiller en central rolle i disse konverteringer.

**Konvertering fra polære $(r, \theta)$ til kartesiske $(x, y)$ koordinater:**

Konverteringen fra polære til kartesiske koordinater følger direkte fra definitionerne af sinus og cosinus i en retvinklet trekant:

$$ x = r \cos \theta $$
$$ y = r \sin \theta $$

Disse ligninger gælder for alle værdier af $r$ og $\theta$, også for "usædvanlige" værdier, hvilket betyder, at aliasing ikke er et problem i denne konvertering.

**Konvertering fra kartesiske $(x, y)$ til polære $(r, \theta)$ koordinater:**

Denne konvertering er mere kompleks på grund af aliasing, da der er uendeligt mange $(r, \theta)$-par, der kan beskrive et givent $(x, y)$-punkt. Normalt ønsker vi at finde de **kanoniske polære koordinater**.

Radius $r$ kan nemt beregnes ved hjælp af Pythagoras' læresætning:

$$ r = \sqrt{x^2 + y^2} $$

Da kvadratrodsfunktionen altid returnerer den positive rod, vil den beregnede værdi af $r$ altid være ikke-negativ, hvilket er i overensstemmelse med den kanoniske form.

Beregningen af vinklen $\theta$ er mere udfordrende. Et umiddelbart forsøg kunne være at bruge tangens:

$$ \frac{y}{x} = \frac{r \sin \theta}{r \cos \theta} = \tan \theta \implies \theta = \arctan\left(\frac{y}{x}\right) $$

Dog er der to problemer med denne tilgang:

1.  Hvis $x = 0$, er divisionen $y/x$ udefineret.
2.  Arctan-funktionen har kun et værdiområde på $[-90^\circ, +90^\circ]$ (eller $[-\pi/2, +\pi/2]$ radianer).

Problemet er, at divisionen $y/x$ mister information om fortegnene på $x$ og $y$, hvilket er nødvendigt for at bestemme den korrekte kvadrant for vinklen.

En bedre løsning er at bruge den såkaldte **atan2-funktion**, som tager både $y$ og $x$ som argumenter og korrekt beregner vinklen $\theta$ i alle fire kvadranter, bortset fra ved origo. Definitionen af atan2-funktionen, som bruges i mange programmeringssprog, er:

$$ \text{atan2}(y, x) = \begin{cases} 0, & x = 0, y = 0 \\ +90^\circ, & x = 0, y > 0 \\ -90^\circ, & x = 0, y < 0 \\ \arctan(y/x), & x > 0 \\ \arctan(y/x) + 180^\circ, & x < 0, y \geq 0 \\ \arctan(y/x) - 180^\circ, & x < 0, y < 0 \end{cases} $$

Ved hjælp af atan2-funktionen kan de kanoniske polære koordinater $(r, \theta)$ beregnes fra de kartesiske koordinater $(x, y)$ som:

$$ r = \sqrt{x^2 + y^2} $$
$$ \theta = \text{atan2}(y, x) $$

**Afsluttende sektion:**

Konvertering mellem kartesiske og polære koordinater er en vigtig færdighed. Formlerne for konvertering fra polære til kartesiske koordinater er simple og direkte. Konverteringen fra kartesiske til polære koordinater kræver brug af atan2-funktionen for korrekt at håndtere vinklen og sikre, at resultatet er i den ønskede kvadrant og ofte i kanonisk form.
