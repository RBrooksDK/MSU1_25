# Tutorial 1: Introduktion til 2D Polære Koordinater
Polære koordinatsystemer er en alternativ metode til at beskrive positioner i rum, som adskiller sig fra det kartesiske koordinatsystem. Denne tutorial introducerer grundlæggende koncepter bag polære koordinater, hvordan de fungerer i 2D, og hvorfor de er nyttige i forskellige sammenhænge.

## Hvad er et polært koordinatsystem?

Et polært koordinatsystem består af:
 - Et **nulpunkt** (også kaldet polen), som definerer systemets centrum
 - En **polær akse**, som er en stråle fra nulpunktet (typisk peger denne mod højre)

I modsætning til det kartesiske system, hvor vi bruger to afstande $(x,y)$, beskriver vi i det polære system en position med:

 - En **afstand** ($r$) fra nulpunktet
 - En **vinkel** ($\theta$) målt fra den polære akse

Det kartesiske koordinatsystem med sine vinkelrette akser er ikke den eneste måde at beskrive punkter i rummet præcist på. Et alternativ er det **polære koordinatsystem**, som denne tutorial vil introducere. Positive vinkelværdier indikerer en rotation mod uret, mens negative værdier indikerer en rotation med uret.

I illustrationen nedenfor vises et punkt $P$ med polære koordinater $(r, \theta)$ i forhold til polen og polaraksen, angivet i grader (tryk på Play-knappen). 

<iframe width="800" height="400" src="../src/T11.mp4" title="Video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

## Sådan aflæser du polære koordinater $$(r,θ)$$
For at lokalisere et punkt med polære koordinater $(r,θ)$:

1. Start ved nulpunktet og peg i retning af den polære akse
2. Rotér med vinklen $\theta$ (positiv vinkel er mod uret, negativ er med uret)
3. Bevæg dig en afstand r i den retning, du nu peger
4. Nu er du ved punktet beskrevet af $(r,θ)$

## Gitterlinjer i polære koordinater
I et polært koordinatsystem består gitterlinjerne af:
- **Cirkler** med centrum i nulpunktet, som repræsenterer punkter med samme r-værdi
- **Rette linjer** gennem nulpunktet, som repræsenterer punkter med samme $\theta$-værdi

Dette skaber et meget anderledes "grid" end de rette linjer i et kartesisk system. I daglig tale bruges grader ofte for at være mere intuitive for mennesker, mens radianer foretrækkes i kode. I følgende illustreres gitterlinjerne i et polært koordinatsystem samt radianer. 

<iframe width="800" height="400" src="../src/T12.mp4" title="Video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

## Aliasering: Flere koordinatsæt for samme punkt
En vigtig egenskab ved polære koordinater er, at et punkt kan beskrives med uendeligt mange forskellige koordinatsæt. Dette kaldes aliasering. For eksempel:

 - Ved at tilføje $360^{\circ}$ til $\theta$ (eller et multiplum heraf)
 - Ved at negere $r$ og tilføje $180^{\circ}$ til $\theta$
 - Ved nulpunktet ( $r=0$ ) er $\theta$-værdien ligegyldig

Dette kan virke forvirrende, men der findes kanoniske former for polære koordinater, hvor:

 - $r \geq 0$
 - $-180^{\circ}<\theta \leq 180^{\circ}$
 - Ved $r=0$ sætter vi $\theta=0$




## Tutorial 3: Konvertering mellem Kartesiske og Polære Koordinater i 2D

**Introduktion:**

Ofte er det nødvendigt at kunne skifte mellem det kartesiske koordinatsystem $(x, y)$ og det polære koordinatsystem $(r, \theta)$. Denne tutorial vil beskrive, hvordan man konverterer koordinater mellem disse to systemer i to dimensioner. Trigonometri spiller en central rolle i disse konverteringer.

**Hovedindhold:**

**Konvertering fra polære $(r, \theta)$ til kartesiske $(x, y)$ koordinater:**

Konverteringen fra polære til kartesiske koordinater følger direkte fra definitionerne af sinus og cosinus i en retvinklet trekant:

$$ x = r \cos \theta $$
$$ y = r \sin \theta $$

Disse ligninger gælder for alle værdier af $r$ og $\theta$, også for "usædvanlige" værdier, hvilket betyder, at aliasing ikke er et problem i denne konvertering.

**Konvertering fra kartesiske $(x, y)$ til polære $(r, \theta)$ koordinater:**

Denne konvertering er mere kompleks på grund af aliasing, da der er uendeligt mange $(r, \theta)$-par, der kan beskrive et givent $(x, y)$-punkt. Normalt ønsker vi at finde de **kanoniske polære koordinater**.

Radius $r$ kan nemt beregnes ved hjælp af Pythagoras' læresætning:

$$ r = \sqrt{x^2 + y^2} $$

Da kvadratrodsfunktionen altid returnerer den positive rod, vil den beregnede værdi af $r$ altid være ikke-negativ, hvilket er i overensstemmelse med den kanoniske form.

Beregningen af vinklen $\theta$ er mere udfordrende. Et umiddelbart forsøg kunne være at bruge tangens:

$$ \frac{y}{x} = \frac{r \sin \theta}{r \cos \theta} = \tan \theta \implies \theta = \arctan\left(\frac{y}{x}\right) $$

Dog er der to problemer med denne tilgang:

1.  Hvis $x = 0$, er divisionen $y/x$ udefineret.
2.  Arctan-funktionen har kun et værdiområde på $[-90^\circ, +90^\circ]$ (eller $[-\pi/2, +\pi/2]$ radianer).

Problemet er, at divisionen $y/x$ mister information om fortegnene på $x$ og $y$, hvilket er nødvendigt for at bestemme den korrekte kvadrant for vinklen.

En bedre løsning er at bruge den såkaldte **atan2-funktion**, som tager både $y$ og $x$ som argumenter og korrekt beregner vinklen $\theta$ i alle fire kvadranter, bortset fra ved origo. Definitionen af atan2-funktionen, som bruges i mange programmeringssprog, er:

$$ \text{atan2}(y, x) = \begin{cases} 0, & x = 0, y = 0 \\ +90^\circ, & x = 0, y > 0 \\ -90^\circ, & x = 0, y < 0 \\ \arctan(y/x), & x > 0 \\ \arctan(y/x) + 180^\circ, & x < 0, y \geq 0 \\ \arctan(y/x) - 180^\circ, & x < 0, y < 0 \end{cases} $$

Ved hjælp af atan2-funktionen kan de kanoniske polære koordinater $(r, \theta)$ beregnes fra de kartesiske koordinater $(x, y)$ som:

$$ r = \sqrt{x^2 + y^2} $$
$$ \theta = \text{atan2}(y, x) $$

**Afsluttende sektion:**

Konvertering mellem kartesiske og polære koordinater er en vigtig færdighed. Formlerne for konvertering fra polære til kartesiske koordinater er simple og direkte. Konverteringen fra kartesiske til polære koordinater kræver brug af atan2-funktionen for korrekt at håndtere vinklen og sikre, at resultatet er i den ønskede kvadrant og ofte i kanonisk form.

## Tutorial 4: Udvidelse til 3D: Cylindriske og Sfæriske Koordinater

**Introduktion:**

Polære koordinater kan også udvides til tre dimensioner. Der findes primært to typer af 3D polære koordinatsystemer: **cylindriske koordinater** og **sfæriske koordinater**. Denne tutorial vil give en introduktion til begge disse systemer og deres relation til 2D polære og 3D kartesiske koordinater.

**Hovedindhold:**

**Cylindriske Koordinater $(r, \theta, z)$:**

Cylindriske koordinater er en direkte udvidelse af 2D polære koordinater til 3D ved at tilføje en tredje koordinat, $z$, som er den samme som z-koordinaten i det kartesiske system. Et punkt i cylindriske koordinater $(r, \theta, z)$ lokaliseres ved først at finde punktet $(r, \theta)$ i xy-planet (som i 2D polære koordinater) og derefter bevæge sig $z$ enheder langs z-aksen.

**Konvertering mellem 3D Kartesiske $(x, y, z)$ og Cylindriske $(r, \theta, z)$ Koordinater:**

Konverteringen er ligetil, da z-koordinaten er den samme i begge systemer. Konverteringen mellem $(x, y)$ og $(r, \theta)$ sker ved hjælp af de 2D metoder fra Tutorial 3:

*   Kartesisk til cylindrisk:
    $$ r = \sqrt{x^2 + y^2} $$
    $$ \theta = \text{atan2}(y, x) $$
    $$ z = z $$

*   Cylindrisk til kartesisk:
    $$ x = r \cos \theta $$
    $$ y = r \sin \theta $$
    $$ z = z $$

Cylindriske koordinater er nyttige i situationer med cylinderformet geometri eller objekter.

**Sfæriske Koordinater $(r, \theta, \phi)$ (Matematisk Konvention):**

Sfæriske koordinater bruger en afstand og to vinkler til at specificere et punkt i 3D. I den matematiske konvention defineres de ofte som $(r, \theta, \phi)$, hvor:

*   **$r$ (radius):** Afstanden fra origo til punktet.
*   **$\theta$ (azimuth):** Vinklen i xy-planet fra den positive x-akse (polaraksen) til projektionen af punktet på xy-planet (samme som $\theta$ i 2D polære og cylindriske koordinater).
*   **$\phi$ (zenith):** Vinklen fra den positive z-akse ned til linjen, der forbinder origo med punktet (område fra $0^\circ$ til $180^\circ$).

**Konvertering mellem 3D Kartesiske $(x, y, z)$ og Sfæriske $(r, \theta, \phi)$ Koordinater (Matematisk Konvention):**

*   Sfærisk til kartesisk:
    $$ x = r \sin \phi \cos \theta $$
    $$ y = r \sin \phi \sin \theta $$
    $$ z = r \cos \phi $$

*   Kartesisk til sfærisk:
    $$ r = \sqrt{x^2 + y^2 + z^2} $$
    $$ \theta = \text{atan2}(y, x) $$
    $$ \phi = \arccos\left(\frac{z}{r}\right) $$

**Sfæriske Koordinater $(r, h, p)$ (Videospil Konvention):**

I videospil bruges ofte en anden konvention for sfæriske koordinater, $(r, h, p)$, hvor:

*   **$r$ (radius):** Afstanden fra origo til punktet (samme som ovenfor).
*   **$h$ (heading):** Den horisontale vinkel, der typisk måles fra den positive z-akse (som "fremad" eller "nord") med positiv rotation med uret set ovenfra.
*   **$p$ (pitch):** Den vertikale vinkel, der måler hvor meget man kigger op eller ned fra et vandret plan. En positiv pitchværdi roterer typisk nedad.

**Konvertering mellem 3D Kartesiske $(x, y, z)$ og Sfæriske $(r, h, p)$ Koordinater (Videospil Konvention):**

*   Sfærisk til kartesisk:
    $$ x = r \cos p \sin h $$
    $$ y = -r \sin p $$
    $$ z = r \cos p \cos h $$

*   Kartesisk til sfærisk:
    $$ r = \sqrt{x^2 + y^2 + z^2} $$
    $$ h = \text{atan2}(x, z) $$
    $$ p = \arcsin\left(-\frac{y}{r}\right) $$

**Aliasing i Sfæriske Koordinater:**

Ligesom i 2D polære koordinater eksisterer der aliasing i sfæriske koordinater. Dette skyldes periodiciteten af vinklerne og det faktum, at forskellige kombinationer af vinkler kan pege i samme retning. Et eksempel er Gimbal lock, som opstår når pitch-vinklen er $\pm 90^\circ$, hvorved heading-vinklen bliver irrelevant.

**Kanonisk Form for Sfæriske Koordinater $(r, h, p)$:**

For at opnå en entydig repræsentation kan sfæriske koordinater i videospilkonventionen også udtrykkes i en kanonisk form med visse begrænsninger for $r$, $h$ og $p$.

**Afsluttende sektion:**

Udvidelsen af polære koordinater til 3D giver os to nyttige systemer: cylindriske og sfæriske koordinater. Cylindriske koordinater er en simpel udvidelse af 2D polære koordinater, mens sfæriske koordinater bruger en afstand og to vinkler. Der findes forskellige konventioner for sfæriske koordinater, som hver har sine egne fordele afhængigt af anvendelsen. Forståelsen af konverteringerne mellem disse systemer og de kartesiske koordinater er afgørende for at arbejde i 3D-rummet.